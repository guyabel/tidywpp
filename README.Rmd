---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# tidywpp

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/tidywpp)](https://CRAN.R-project.org/package=tidywpp)
<!-- badges: end -->

The goal of tidywpp is to ...

## Installation

<!-- You can install the released version of tidywpp from [CRAN](https://CRAN.R-project.org) with: -->

<!-- ``` r -->
<!-- install.packages("tidywpp") -->
<!-- ``` -->

Install the developmental version with:

```{r eval=FALSE}
library(devtools)
install_github("guyabel/tidywpp", ref = "main")
```

## Example

Download data based on a indicator and variant:

```{r example}
library(tidywpp)

# single indicator from medium variant of latest WPP
get_wpp(indicator = "TFR")

# single indicator from multiple variants of latest WPP
get_wpp(indicator = "TFR", variant_id = c(2, 3, 4))

# multiple population indicators from single variant of latest WPP
get_wpp(indicator = c("PopTotal", "PopMale", "PopFemale"))

# as multiple granularities of population in WPP, there are multiple population indicators.
# use indicator indicator_file_group to select version of population indicator(s)
get_wpp(indicator = c("PopTotal", "PopMale", "PopFemale"),
        indicator_file_group =  "TotalPopulationBySex")

# tidy sex into a single column and drop id columns
get_wpp(indicator = c("PopMale", "PopFemale"),
        indicator_file_group =  "TotalPopulationBySex",
        tidy_pop_sex = TRUE, drop_id_cols = TRUE)

# clean column names
get_wpp(indicator = c("SRB", "NetMigrations", "GrowthRate"),
        clean_names = TRUE, drop_id_cols = TRUE)

# old life table
get_wpp(indicator = c("qx", "lx", "dx", "Lx", "Tx", "ex"),
        wpp_version = 2017, drop_id_cols = TRUE)
```

